{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Denis\\\\Desktop\\\\Web_Projects\\\\Portfolio_Website\\\\frontend\\\\src\\\\projects\\\\page\\\\ProjectsPage.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Card from \"../../shared/components/Card\";\nimport \"./ProjectsPage.css\";\nimport ContentHeading from \"../../shared/Heading/ContentHeading\";\nimport Container from \"../../shared/components/Container\";\nimport Message from \"../../shared/components/Message\";\n\nconst ProjectsPage = () => {\n  const [projects, setProjects] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(process.env.REACT_APP_BACKEND_URL + \"e\" + \"/projects\").then(response => response.json()).then(response => setProjects(() => {\n      const data = response; //sort from most recent projects to oldest\n\n      data.sort((a, b) => {\n        return new Date(b.timePeriod).getFullYear() - new Date(a.timePeriod).getFullYear();\n      });\n      let groups = []; //grouping of 3 cards\n\n      let group = []; //group of 3 cards to be displayed in a single row\n\n      let i; //separate projects in groups of 3\n\n      for (i = 1; i <= data.length; i++) {\n        if (i % 3 !== 0) {\n          group.push(data[i - 1]);\n        } else {\n          group.push(data[i - 1]);\n          groups.push(group);\n          group = [];\n        }\n      } //push the group of less than 3 elements\n\n\n      if (group.length !== 0) {\n        groups.push(group);\n      }\n\n      setIsLoading(false);\n      return groups;\n    })).catch(err => {\n      setIsLoading(false);\n      setError(err.message);\n    });\n  }, []);\n\n  const OkBtnClickHandler = value => {\n    setError(va);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(Message, {\n    className: \"centered info message\",\n    msgHeaderClassName: \"info\",\n    title: \"Attention!\",\n    onOkButtonClick: OkBtnClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 23\n    }\n  }, \"Dear guests, projects may take a few seconds to load due to Heroku servers waking up from a deep sleep.\"), error && /*#__PURE__*/React.createElement(Message, {\n    className: \"centered error message\",\n    msgHeaderClassName: \"error\",\n    title: \"Error\",\n    onOkButtonClick: OkBtnClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(ContentHeading, {\n    className: \"heading-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Projects\"), /*#__PURE__*/React.createElement(Container, {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, projects.map((gr, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 28\n      }\n    }, gr.map(proj => {\n      console.log(\"P1 \" + proj);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col col-12 col-md-6 col-lg-4\",\n        key: proj._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"project-card\",\n        id: proj._id,\n        title: proj.name,\n        tech: proj.tech,\n        src: proj.image,\n        alt: `${proj.name} screenshot`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }\n      }));\n    }));\n  })));\n};\n\nexport default ProjectsPage;","map":{"version":3,"sources":["C:/Users/Denis/Desktop/Web_Projects/Portfolio_Website/frontend/src/projects/page/ProjectsPage.jsx"],"names":["React","useEffect","useState","Card","ContentHeading","Container","Message","ProjectsPage","projects","setProjects","isLoading","setIsLoading","error","setError","fetch","process","env","REACT_APP_BACKEND_URL","then","response","json","data","sort","a","b","Date","timePeriod","getFullYear","groups","group","i","length","push","catch","err","message","OkBtnClickHandler","value","va","map","gr","index","proj","console","log","_id","name","tech","image"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Card from \"../../shared/components/Card\";\r\n\r\nimport \"./ProjectsPage.css\";\r\nimport ContentHeading from \"../../shared/Heading/ContentHeading\";\r\nimport Container from \"../../shared/components/Container\";\r\nimport Message from \"../../shared/components/Message\";\r\n\r\n\r\n\r\n\r\nconst ProjectsPage = () => {\r\n    const [projects, setProjects ] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState();\r\n\r\n    useEffect(() => {\r\n        \r\n        setIsLoading(true);\r\n        fetch(process.env.REACT_APP_BACKEND_URL + \"e\" + \"/projects\")\r\n        .then(response => response.json())\r\n        .then((response) => setProjects(() => {\r\n\r\n            const data = response;\r\n            //sort from most recent projects to oldest\r\n            data.sort((a, b) => {\r\n                return new Date(b.timePeriod).getFullYear() - new Date(a.timePeriod).getFullYear();\r\n            });\r\n            \r\n            let groups = [];   //grouping of 3 cards\r\n            let group = [];    //group of 3 cards to be displayed in a single row\r\n            let i;\r\n            //separate projects in groups of 3\r\n            for(i = 1; i <= data.length; i++){\r\n                 if((i % 3) !== 0){\r\n                    group.push(data[i - 1]);\r\n                }else{\r\n                    group.push(data[i - 1]);\r\n                    groups.push(group);\r\n                    group = [];\r\n                }\r\n            }\r\n            //push the group of less than 3 elements\r\n            if(group.length !== 0){\r\n                groups.push(group);\r\n            }\r\n            setIsLoading(false);\r\n            return groups;\r\n            }))\r\n            .catch((err) => {\r\n                setIsLoading(false);\r\n                setError(err.message);\r\n            });\r\n            \r\n    }, []);\r\n\r\n    const OkBtnClickHandler = (value) => {\r\n        setError(va);\r\n    }\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n        {isLoading && <Message className=\"centered info message\" msgHeaderClassName=\"info\" title=\"Attention!\" onOkButtonClick={OkBtnClickHandler}>\r\n            Dear guests, projects may take a few seconds to load due to Heroku servers waking up from a deep sleep.\r\n        </Message>}\r\n        {error && <Message className=\"centered error message\" msgHeaderClassName=\"error\" title=\"Error\" onOkButtonClick={OkBtnClickHandler}>{error}</Message>}\r\n            <ContentHeading className=\"heading-container\">\r\n                Projects\r\n            </ContentHeading>\r\n            <Container className=\"container\">\r\n\r\n                \r\n                { projects.map((gr, index) => {\r\n                    return <div className=\"row\" key={index}>\r\n                            {gr.map((proj)=> {\r\n                                console.log(\"P1 \" + proj);\r\n                             return <div className=\"col col-12 col-md-6 col-lg-4\" key={proj._id}>\r\n                                <Card  className=\"project-card\" id={proj._id} title={proj.name} tech={proj.tech} src={ proj.image } alt={`${proj.name} screenshot`} ></Card>\r\n                                </div>\r\n                            })}\r\n                       </div> \r\n                }) }\r\n            </Container>\r\n            \r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default ProjectsPage;"]},"metadata":{},"sourceType":"module"}